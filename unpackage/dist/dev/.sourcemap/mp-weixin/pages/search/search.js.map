{"version":3,"sources":["webpack:////Users/zhoupeijun/Desktop/yanxuan/main.js","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?3055","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?fbcb","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?ead8","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?d550","webpack:////Users/zhoupeijun/Desktop/yanxuan/util/history.js","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?1293","webpack:////Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue?d388"],"names":["Page","App","History","path","maxCount","JSON","parse","uni","getStorageSync","removeStorageSync","val","list","getAllHistory","indexOf","splice","unshift","length","pop","setStorageSync","stringify","components","split","data","searchVal","hot","placeholder","hsTool","history","mounted","that","Fetch","fetchData","Api","SearchIndex","res","hotKeywordList","methods","back","navigateBack","clear","hotClick","add","claerHistory","removeAll"],"mappings":"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AS;AACT;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,sBAAsB,qBAAqB;AAC3C,wBAAwB,uBAAuB;AAC/C;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,0BAA0B,qCAAqC;AAC/D,0BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,0BAA0B,6CAA6C;AACvE,0BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/search/search.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=c0a1d2ca&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=c0a1d2ca&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0a1d2ca\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c0a1d2ca', component.options)\n    } else {\n      api.reload('c0a1d2ca', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=c0a1d2ca&scoped=true&\", function () {\n      api.rerender('c0a1d2ca', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/zhoupeijun/Desktop/yanxuan/pages/search/search.vue\"\nexport default component.exports","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=c0a1d2ca&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=c0a1d2ca&scoped=true&lang=less&\"","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=template&id=c0a1d2ca&scoped=true&\"","class History{\n\tconstructor() {\n\t    this.path = 'history';\n\t\tthis.maxCount = 7;\n\t}\n\tgetAllHistory(){\n\t\treturn JSON.parse(uni.getStorageSync(this.path)||'[]');\n\t}\n\tremoveAll(){\n\t\tuni.removeStorageSync(this.path);\n\t}\n\tadd(val){\n\t\tlet list = this.getAllHistory();\n\t\tif(list.indexOf(val)>-1){\n\t\t\tlist = list.splice(list.indexOf(val),1);\n\t\t}\n\t\tlist.unshift(val);\n\t\tif(list.length > this.maxCount){\n\t\t\tlist.pop();\n\t\t}\n\t\tuni.setStorageSync(this.path,JSON.stringify(list));\n\t\treturn list;\n\t}\n}\n\nexport default History;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Api from '../../api/api.js'\nimport Fetch from '../../util/fetch.js'\nimport History from '../../util/history.js'\nimport split from '../../components/split.vue'\nexport default {\n\tcomponents:{\n\t\tsplit\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchVal: '',\n\t\t\thot: [],\n\t\t\tplaceholder: '请输入要搜索的商品',\n\t\t\thsTool: null,\n\t\t\thistory: []\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.hsTool = new History();\n\t\tthis.history = this.hsTool.getAllHistory();\n\t\tconst that = this;\n\t\tFetch.fetchData(Api.SearchIndex,null,(res)=>{\n\t\t\tconst data = res.data.data;\n\t\t\tthat.hot = data.hotKeywordList;\n\t\t\tthat.placeholder = that.hot[0]['keyword'];\n\t\t},false);\n\t},\n\tmethods:{\n\t\tback(){\n\t\t\tuni.navigateBack();\n\t\t},\n\t\tclear(){\n\t\t\tthis.searchVal = '';\n\t\t},\n\t\thotClick(val){\n\t\t\tthis.searchVal = val;\n\t\t\tthis.history = this.hsTool.add(val);\n\t\t},\n\t\tclaerHistory(){\n\t\t\tthis.hsTool.removeAll();\n\t\t\tthis.history = [];\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"content\" },\n    [\n      _c(\"view\", { staticClass: \"searchInput\" }, [\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.searchVal,\n              expression: \"searchVal\"\n            }\n          ],\n          staticClass: \"input\",\n          attrs: {\n            focus: \"\",\n            placeholder: _vm.placeholder,\n            eventid: \"4eeefe7a-0\"\n          },\n          domProps: { value: _vm.searchVal },\n          on: {\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.searchVal = $event.target.value\n            }\n          }\n        }),\n        _c(\n          \"view\",\n          {\n            staticClass: \"cancel\",\n            attrs: { eventid: \"4eeefe7a-1\" },\n            on: {\n              tap: function($event) {\n                $event.stopPropagation()\n                _vm.back($event)\n              }\n            }\n          },\n          [_vm._v(\"取消\")]\n        ),\n        _c(\"view\", { staticClass: \"search-icon\" }),\n        _c(\"view\", {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.searchVal.length > 0,\n              expression: \"searchVal.length > 0\"\n            }\n          ],\n          staticClass: \"clear\",\n          attrs: { eventid: \"4eeefe7a-2\" },\n          on: { click: _vm.clear }\n        })\n      ]),\n      _c(\n        \"view\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.history.length > 0 && _vm.searchVal.length == 0,\n              expression: \"history.length > 0 && searchVal.length == 0\"\n            }\n          ],\n          staticClass: \"history\"\n        },\n        [\n          _c(\"view\", { staticClass: \"Bar\" }, [\n            _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"搜索历史\")]),\n            _c(\"view\", {\n              staticClass: \"clear\",\n              attrs: { eventid: \"4eeefe7a-3\" },\n              on: {\n                tap: function($event) {\n                  $event.stopPropagation()\n                  _vm.claerHistory($event)\n                }\n              }\n            })\n          ]),\n          _vm._l(_vm.history, function(item, index) {\n            return _c(\"block\", { key: index }, [\n              _c(\n                \"text\",\n                {\n                  staticClass: \"hot-item\",\n                  class: { selected: item === _vm.placeholder },\n                  attrs: { eventid: \"4eeefe7a-4-\" + index },\n                  on: {\n                    tap: function($event) {\n                      $event.stopPropagation()\n                      _vm.hotClick(item)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(item))]\n              )\n            ])\n          })\n        ],\n        2\n      ),\n      _c(\"split\", {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.history.length > 0 && _vm.searchVal.length == 0,\n            expression: \"history.length > 0 && searchVal.length == 0\"\n          }\n        ],\n        attrs: { mpcomid: \"4eeefe7a-0\" }\n      }),\n      _c(\n        \"view\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.hot.length > 0 && _vm.searchVal.length == 0,\n              expression: \"hot.length > 0 && searchVal.length == 0\"\n            }\n          ],\n          staticClass: \"hot\"\n        },\n        [\n          _vm._m(0),\n          _vm._l(_vm.hot, function(item, index) {\n            return _c(\"block\", { key: index }, [\n              _c(\n                \"text\",\n                {\n                  staticClass: \"hot-item\",\n                  class: { selected: item.keyword === _vm.placeholder },\n                  attrs: { eventid: \"4eeefe7a-5-\" + index },\n                  on: {\n                    tap: function($event) {\n                      $event.stopPropagation()\n                      _vm.hotClick(item.keyword)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(item.keyword))]\n              )\n            ])\n          })\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"Bar\" }, [\n      _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"热门搜索\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}